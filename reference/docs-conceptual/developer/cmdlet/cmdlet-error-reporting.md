---
title: Cmdlet-Fehlerberichterstattung | Microsoft-Dokumentation
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- error records [PowerShell], terminating
- non-terminating errors [PowerShell]
- error records [PowerShell]
- terminating errors [PowerShell]
- error records [PowerShell], non-terminating
ms.assetid: 0b014035-52ea-44cb-ab38-bbe463c5465a
caps.latest.revision: 8
ms.openlocfilehash: 5dfec318438ca139518c596011ac5e56445738ea
ms.sourcegitcommit: 52a67bcd9d7bf3e8600ea4302d1fa8970ff9c998
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/15/2019
ms.locfileid: "72365919"
---
# <a name="cmdlet-error-reporting"></a><span data-ttu-id="45183-102">Cmdlet-Fehlerberichterstattung</span><span class="sxs-lookup"><span data-stu-id="45183-102">Cmdlet error reporting</span></span>

<span data-ttu-id="45183-103">Cmdlets sollten Fehler unterschiedlich melden, je nachdem, ob Fehler durch das Beenden von Fehlern oder nicht abschließende Fehler verursacht werden.</span><span class="sxs-lookup"><span data-stu-id="45183-103">Cmdlets should report errors differently depending on whether the errors are terminating errors or nonterminating errors.</span></span> <span data-ttu-id="45183-104">Abschließende Fehler sind Fehler, die dazu führen, dass die Pipeline sofort beendet wird, oder Fehler, die auftreten, wenn es keinen Grund gibt, die Verarbeitung fortzusetzen.</span><span class="sxs-lookup"><span data-stu-id="45183-104">Terminating errors are errors that cause the pipeline to be terminated immediately, or errors that occur when there's no reason to continue processing.</span></span> <span data-ttu-id="45183-105">Fehler, die nicht abgebrochen werden, sind die Fehler, die einen aktuellen Fehlerzustand melden, aber das Cmdlet kann die Verarbeitung von Eingabe Objekten fortsetzen.</span><span class="sxs-lookup"><span data-stu-id="45183-105">Nonterminating errors are those errors that report a current error condition, but the cmdlet can continue to process input objects.</span></span> <span data-ttu-id="45183-106">Bei nicht abschließenden Fehlern wird der Benutzer in der Regel über das Problem benachrichtigt, aber das Cmdlet verarbeitet weiterhin das nächste Eingabe Objekt.</span><span class="sxs-lookup"><span data-stu-id="45183-106">With nonterminating errors, the user is typically notified of the problem, but the cmdlet continues to process the next input object.</span></span>

## <a name="terminating-and-nonterminating-errors"></a><span data-ttu-id="45183-107">Abschließende und nicht abschließende Fehler</span><span class="sxs-lookup"><span data-stu-id="45183-107">Terminating and nonterminating errors</span></span>

<span data-ttu-id="45183-108">Die folgenden Richtlinien können verwendet werden, um zu bestimmen, ob eine Fehlerbedingung ein Abbruch Fehler oder ein Fehler ohne Abbruch ist.</span><span class="sxs-lookup"><span data-stu-id="45183-108">The following guidelines can be used to determine if an error condition is a terminating error or a nonterminating error.</span></span>

- <span data-ttu-id="45183-109">Verhindert die Fehlerbedingung, dass das Cmdlet keine weiteren Eingabe Objekte verarbeitet?</span><span class="sxs-lookup"><span data-stu-id="45183-109">Does the error condition prevent your cmdlet from successfully processing any further input objects?</span></span> <span data-ttu-id="45183-110">Wenn dies der Fall ist, ist dies ein Abbruch Fehler.</span><span class="sxs-lookup"><span data-stu-id="45183-110">If so, this is a terminating error.</span></span>

- <span data-ttu-id="45183-111">Handelt es sich um einen Fehlerzustand, der sich auf ein bestimmtes Eingabe Objekt oder eine Teilmenge von Eingabe Objekten bezieht?</span><span class="sxs-lookup"><span data-stu-id="45183-111">Is the error condition related to a specific input object or a subset of input objects?</span></span> <span data-ttu-id="45183-112">Wenn dies der Fall ist, ist dies ein Fehler ohne Abbruch.</span><span class="sxs-lookup"><span data-stu-id="45183-112">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="45183-113">Akzeptiert das Cmdlet mehrere Eingabe Objekte, sodass die Verarbeitung für ein anderes Eingabe Objekt erfolgreich ist?</span><span class="sxs-lookup"><span data-stu-id="45183-113">Does the cmdlet accept multiple input objects, such that processing may succeed on another input object?</span></span> <span data-ttu-id="45183-114">Wenn dies der Fall ist, ist dies ein Fehler ohne Abbruch.</span><span class="sxs-lookup"><span data-stu-id="45183-114">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="45183-115">Cmdlets, die mehrere Eingabe Objekte akzeptieren können, sollten zwischen den Fehlern beim Beenden und beim nicht beenden entscheiden, auch wenn eine bestimmte Situation nur für ein einzelnes Eingabe Objekt gilt.</span><span class="sxs-lookup"><span data-stu-id="45183-115">Cmdlets that can accept multiple input objects should decide between what are terminating and nonterminating errors, even when a particular situation applies to only a single input object.</span></span>

- <span data-ttu-id="45183-116">Cmdlets können eine beliebige Anzahl von Eingabe Objekten empfangen und eine beliebige Anzahl von Success-oder Error-Objekten senden, bevor eine Abbruch Ausnahme ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="45183-116">Cmdlets can receive any number of input objects and send any number of success or error objects before throwing a terminating exception.</span></span> <span data-ttu-id="45183-117">Es gibt keine Beziehung zwischen der Anzahl der empfangenen Eingabe Objekte und der Anzahl der empfangenen Erfolgs-und Fehler Objekte.</span><span class="sxs-lookup"><span data-stu-id="45183-117">There's no relationship between the number of input objects received and the number of success and error objects sent.</span></span>

- <span data-ttu-id="45183-118">Cmdlets, die nur 0-1-Eingabe Objekte akzeptieren und nur 0-1 Output-Objekte generieren, sollten Fehler als Fehler beim Abbrechen behandeln und abschließende Ausnahmen generieren.</span><span class="sxs-lookup"><span data-stu-id="45183-118">Cmdlets that can accept only 0-1 input objects and generate only 0-1 output objects should treat errors as terminating errors and generate terminating exceptions.</span></span>

## <a name="reporting-nonterminating-errors"></a><span data-ttu-id="45183-119">Melden von nicht abschließenden Fehlern</span><span class="sxs-lookup"><span data-stu-id="45183-119">Reporting nonterminating errors</span></span>

<span data-ttu-id="45183-120">Die Berichterstellung eines Fehlers ohne Abbruch sollte immer innerhalb der Cmdlet-Implementierung der [System. Management. Automation. Cmdlet. BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) -Methode, der [System. Management. Automation. Cmdlet. ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) -Methode oder die [System. Management. Automation. Cmdlet. EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) -Methode.</span><span class="sxs-lookup"><span data-stu-id="45183-120">The reporting of a nonterminating error should always be done within the cmdlet's implementation of the [System.Management.Automation.Cmdlet.BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) method, the [System.Management.Automation.Cmdlet.ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) method, or the [System.Management.Automation.Cmdlet.EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) method.</span></span> <span data-ttu-id="45183-121">Diese Fehlertypen werden gemeldet, indem die [System. Management. Automation. Cmdlet. Write error](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) -Methode aufgerufen wird, die wiederum einen Fehler Daten Satz an den fehlerstream sendet.</span><span class="sxs-lookup"><span data-stu-id="45183-121">These types of errors are reported by calling the [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) method that in turn sends an error record to the error stream.</span></span>

## <a name="reporting-terminating-errors"></a><span data-ttu-id="45183-122">Melden von abschließenden Fehlern</span><span class="sxs-lookup"><span data-stu-id="45183-122">Reporting terminating errors</span></span>

<span data-ttu-id="45183-123">Abschließende Fehler werden gemeldet, indem Ausnahmen ausgelöst oder die [System. Management. Automation. Cmdlet. ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) -Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="45183-123">Terminating errors are reported by throwing exceptions or by calling the [System.Management.Automation.Cmdlet.ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) method.</span></span> <span data-ttu-id="45183-124">Beachten Sie, dass Cmdlets Ausnahmen wie z. b. **oudefmemory**auch abfangen und erneut auslösen können, aber Sie müssen Ausnahmen nicht erneut auslösen, da Sie von der PowerShell-Laufzeit ebenfalls abgefangen werden.</span><span class="sxs-lookup"><span data-stu-id="45183-124">Be aware that cmdlets can also catch and rethrow exceptions such as **OutOfMemory**, however, they aren't required to rethrow exceptions as the PowerShell runtime will catch them as well.</span></span>

<span data-ttu-id="45183-125">Sie können auch eigene Ausnahmen für Probleme definieren, die für Ihre Situation spezifisch sind, oder einer vorhandenen Ausnahme mithilfe des Fehler Datensatzes zusätzliche Informationen hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="45183-125">You can also define your own exceptions for issues specific to your situation, or add additional information to an existing exception using its error record.</span></span>

## <a name="error-records"></a><span data-ttu-id="45183-126">Fehler Datensätze</span><span class="sxs-lookup"><span data-stu-id="45183-126">Error records</span></span>

<span data-ttu-id="45183-127">PowerShell beschreibt eine nicht abschließende Fehlerbedingung mit [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) -Objekten.</span><span class="sxs-lookup"><span data-stu-id="45183-127">PowerShell describes a nonterminating error condition with [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) objects.</span></span> <span data-ttu-id="45183-128">Jedes-Objekt stellt Fehler Kategorieinformationen, ein optionales Zielobjekt und Details zum Fehlerzustand bereit.</span><span class="sxs-lookup"><span data-stu-id="45183-128">Each object provides error category information, an optional target object, and details about the error condition.</span></span>

### <a name="error-identifiers"></a><span data-ttu-id="45183-129">Fehler Bezeichner</span><span class="sxs-lookup"><span data-stu-id="45183-129">Error identifiers</span></span>

<span data-ttu-id="45183-130">Der Fehler Bezeichner ist eine einfache Zeichenfolge, die die Fehlerbedingung innerhalb des Cmdlets identifiziert.</span><span class="sxs-lookup"><span data-stu-id="45183-130">The error identifier is a simple string that identifies the error condition within the cmdlet.</span></span>
<span data-ttu-id="45183-131">PowerShell kombiniert diesen Bezeichner mit einem Cmdlet-Bezeichner, um einen voll qualifizierten Fehler Bezeichner zu erstellen, der später beim Filtern von Fehler Datenströmen oder Protokollierungs Fehlern, beim reagieren auf bestimmte Fehler oder bei anderen benutzerspezifischen Aktivitäten verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="45183-131">PowerShell combines this identifier with a cmdlet identifier to create a fully qualified error identifier that can be used later when filtering error streams or logging errors, when responding to specific errors, or with other user-specific activities.</span></span>

<span data-ttu-id="45183-132">Beim Angeben von Fehler bezeichmern sollten die folgenden Richtlinien befolgt werden:</span><span class="sxs-lookup"><span data-stu-id="45183-132">The following guidelines should be followed when specifying error identifiers:</span></span>

- <span data-ttu-id="45183-133">Weisen Sie unterschiedliche, sehr spezifische Fehler Bezeichner unterschiedlichen Codepfade zu.</span><span class="sxs-lookup"><span data-stu-id="45183-133">Assign different, highly specific, error identifiers to different code paths.</span></span> <span data-ttu-id="45183-134">Jeder Codepfad, der " [System. Management. Automation. Cmdlet. Write-error](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) " oder " [System. Management. Automation. Cmdlet. ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) " aufruft, sollte über einen eigenen Fehler Bezeichner verfügen.</span><span class="sxs-lookup"><span data-stu-id="45183-134">Each code path that calls [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) should have its own error identifier.</span></span>

- <span data-ttu-id="45183-135">Fehler Bezeichner sollten für Fehler beim Beenden und beim nicht beenden eindeutig für CLR-Ausnahme Typen (Common Language Runtime) gelten.</span><span class="sxs-lookup"><span data-stu-id="45183-135">Error identifiers should be unique to Common Language Runtime (CLR) exception types for both terminating and nonterminating errors.</span></span>

- <span data-ttu-id="45183-136">Ändern Sie nicht die Semantik eines Fehler Bezeichners zwischen den Versionen des Cmdlets oder des PowerShell-Anbieters.</span><span class="sxs-lookup"><span data-stu-id="45183-136">Don't change the semantics of an error identifier between versions of your cmdlet or PowerShell provider.</span></span> <span data-ttu-id="45183-137">Nachdem die Semantik eines Fehler Bezeichners festgelegt wurde, sollte Sie während des gesamten Lebenszyklus des Cmdlets konstant bleiben.</span><span class="sxs-lookup"><span data-stu-id="45183-137">After the semantics of an error identifier is established, it should remain constant throughout the lifecycle of your cmdlet.</span></span>

- <span data-ttu-id="45183-138">Verwenden Sie für das Beenden von Fehlern einen eindeutigen Fehler Bezeichner für einen bestimmten CLR-Ausnahmetyp.</span><span class="sxs-lookup"><span data-stu-id="45183-138">For terminating errors, use a unique error identifier for a particular CLR exception type.</span></span> <span data-ttu-id="45183-139">Wenn sich der Ausnahmetyp ändert, verwenden Sie einen neuen Fehler Bezeichner.</span><span class="sxs-lookup"><span data-stu-id="45183-139">If the exception type changes, use a new error identifier.</span></span>

- <span data-ttu-id="45183-140">Verwenden Sie für nicht abschließende Fehler einen bestimmten Fehler Bezeichner für ein bestimmtes Eingabe Objekt.</span><span class="sxs-lookup"><span data-stu-id="45183-140">For nonterminating errors, use a specific error identifier for a specific input object.</span></span>

- <span data-ttu-id="45183-141">Wählen Sie Text für den Bezeichner aus, der dem gemeldeten Fehler entspricht.</span><span class="sxs-lookup"><span data-stu-id="45183-141">Choose text for the identifier that tersely corresponds to the error being reported.</span></span> <span data-ttu-id="45183-142">Verwenden Sie keine Leerzeichen oder Interpunktions Zeichen.</span><span class="sxs-lookup"><span data-stu-id="45183-142">Don't use white space or punctuation.</span></span>

- <span data-ttu-id="45183-143">Generieren Sie keine Fehler Bezeichner, die nicht reproduzierbar sind.</span><span class="sxs-lookup"><span data-stu-id="45183-143">Don't generate error identifiers that aren't reproducible.</span></span> <span data-ttu-id="45183-144">Generieren Sie z. b. keine Bezeichner, die eine Prozess-ID enthalten.</span><span class="sxs-lookup"><span data-stu-id="45183-144">For example, don't generate identifiers that include a process identifier.</span></span> <span data-ttu-id="45183-145">Fehler Bezeichner sind nur hilfreich, wenn Sie bezeichmern entsprechen, die von anderen Benutzern mit dem gleichen Problem erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="45183-145">Error identifiers are useful only when they correspond to identifiers that are seen by other users who are experiencing the same problem.</span></span>

### <a name="error-categories"></a><span data-ttu-id="45183-146">Fehlerkategorien</span><span class="sxs-lookup"><span data-stu-id="45183-146">Error categories</span></span>

<span data-ttu-id="45183-147">Fehlerkategorien werden zum Gruppieren von Fehlern für den Benutzer verwendet.</span><span class="sxs-lookup"><span data-stu-id="45183-147">Error categories are used to group errors for the user.</span></span> <span data-ttu-id="45183-148">PowerShell definiert diese Kategorien und Cmdlets, und PowerShell-Anbieter müssen bei der Erstellung des Fehler Datensatzes zwischen Ihnen wählen.</span><span class="sxs-lookup"><span data-stu-id="45183-148">PowerShell defines these categories and cmdlets and PowerShell providers must choose between them when generating the error record.</span></span>

<span data-ttu-id="45183-149">Eine Beschreibung der verfügbaren Fehlerkategorien finden Sie unter der [System. Management. Automation. ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) -Enumeration.</span><span class="sxs-lookup"><span data-stu-id="45183-149">For a description of the error categories that are available, see the [System.Management.Automation.ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="45183-150">Im Allgemeinen sollten Sie, wenn möglich, die Verwendung von " **noError**", " **undefinederror**" und " **genericerror** " vermeiden.</span><span class="sxs-lookup"><span data-stu-id="45183-150">In general, you should avoid using **NoError**, **UndefinedError**, and **GenericError** whenever possible.</span></span>

<span data-ttu-id="45183-151">Benutzer können Fehler basierend auf der Kategorie anzeigen, wenn Sie `$ErrorView` auf **categoryview**festgelegt haben.</span><span class="sxs-lookup"><span data-stu-id="45183-151">Users can view errors based on category when they set `$ErrorView` to **CategoryView**.</span></span>

## <a name="see-also"></a><span data-ttu-id="45183-152">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="45183-152">See also</span></span>

[<span data-ttu-id="45183-153">Cmdlet-Übersicht</span><span class="sxs-lookup"><span data-stu-id="45183-153">Cmdlet Overview</span></span>](./cmdlet-overview.md)

[<span data-ttu-id="45183-154">Cmdlet-Ausgabetypen</span><span class="sxs-lookup"><span data-stu-id="45183-154">Types of Cmdlet Output</span></span>](./types-of-cmdlet-output.md)

[<span data-ttu-id="45183-155">Windows PowerShell-Referenz</span><span class="sxs-lookup"><span data-stu-id="45183-155">Windows PowerShell Reference</span></span>](../windows-powershell-reference.md)
